// prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"  // or "mysql" or "sqlite" depending on your database
  url      = env("DATABASE_URL")
}

model Roster {
  id             String   @id @default(cuid())
  year           Int
  month          Int
  totalEmployees Int
  schedule       Json
  summary        Json
  createdAt      DateTime @default(now())
  
  @@unique([year, month])
  @@index([year, month])
}

model Employee {
  id           String      @id @default(cuid())
  employeeId   String      @unique
  name         String
  departmentId String?
  department   Department? @relation(fields: [departmentId], references: [id])
  position     String?
  createdAt    DateTime    @default(now())
}

model Department {
  id        String     @id @default(cuid())
  name      String     @unique
  employees Employee[]
}
